FN([CONST(s("SS-FFI","KEYWORD")),CONST(l(s("SS","KEYWORD"))),CONST(l(s("FFI","KEYWORD"))),PRIM(s("%MAKE-PACKAGE","%"),3),LET(1),LVAR(0,0),RET()]),EXEC(),POP()
,FN([NIL(),RET()]),EXEC(),POP()
,FN([CONST(l(s("DEFUN-JS","SS-FFI"))),CONST(p("SS-FFI")),PRIM(s("%EXPORT","%"),2),RET()]),EXEC(),POP()
,FN([CONST(s("TO-JS-NAME","SS-FFI")),FN([ARGS(1),CONST(/-+/g),LVAR(0,0),CONST("_"),PRIM(s("REPLACE-REGEXP","%"),3),PRIM(s("DOWNCASE","%"),1),LSET(0,0),POP(),CONST(/^%/),LVAR(0,0),PRIM(s("REGEXP-EXEC","%"),2),LET(1),LVAR(0,0),FJUMP(21),CONST("_"),LVAR(1,0),CONST(1),PRIM(s("SUBSTR","%"),2),PRIM(s("STRCAT","%"),2),LSET(1,0),POP(),UNFR(1,0),CONST(/^\*(.*)\*$/),LVAR(0,0),PRIM(s("REGEXP-EXEC","%"),2),LET(1),LVAR(0,0),FJUMP(34),LVAR(0,0),CONST(1),PRIM(s("VECTOR-REF","%"),2),PRIM(s("UPCASE","%"),1),LSET(1,0),POP(),UNFR(1,0),CONST(/^\+(.*)\+$/),LVAR(0,0),PRIM(s("REGEXP-EXEC","%"),2),LET(1),LVAR(0,0),FJUMP(49),CONST("$"),LVAR(0,0),CONST(1),PRIM(s("VECTOR-REF","%"),2),PRIM(s("UPCASE","%"),1),PRIM(s("STRCAT","%"),2),LSET(1,0),POP(),UNFR(1,0),LVAR(0,0),RET()],s("TO-JS-NAME","SS-FFI")),PRIM(s("SET-SYMBOL-FUNCTION!","%"),2),RET()]),EXEC(),POP()
,FN([FRAME(),FN([ARG_(0),LVAR(0,0),FRAME(),VAR(),LVAR(0,0),FJUMP(16),LVAR(0,0),CAR(),LET(1),LVAR(1,0),CDR(),LSET(1,0),POP(),LVAR(0,0),UNFR(1,0),JUMP(20),SAVE(20),CONST("Missing required argument: NAME"),FGVAR(s("ERROR","%")),CALL(1),VAR(),LVAR(0,0),FJUMP(33),LVAR(0,0),CAR(),LET(1),LVAR(1,0),CDR(),LSET(1,0),POP(),LVAR(0,0),UNFR(1,0),JUMP(37),SAVE(37),CONST("Missing required argument: ARGS"),FGVAR(s("ERROR","%")),CALL(1),VAR(),LVAR(0,0),FJUMP(50),LVAR(0,0),CAR(),LET(1),LVAR(1,0),CDR(),LSET(1,0),POP(),LVAR(0,0),UNFR(1,0),JUMP(54),SAVE(54),CONST("Missing required argument: BODY"),FGVAR(s("ERROR","%")),CALL(1),VAR(),SAVE(59),LVAR(0,1),FGVAR(s("TO-JS-NAME","SS-FFI")),CALL(1),FRAME(),VAR(),PRIM(s("GENSYM","%"),0),VAR(),SAVE(68),FGVAR(s("TO-JS-NAME","SS-FFI")),LVAR(1,2),FGVAR(s("MAPCAR","%")),CALL(2),VAR(),CONST(s("LET","%")),LVAR(0,1),CONST(s("%JS-EVAL","%")),SAVE(80),NIL(),CONST("function ~A (~{~A~^, ~}) { ~A }"),LVAR(0,0),LVAR(0,2),LVAR(1,3),FGVAR(s("FORMAT","SS")),CALL(5),LIST(2),LIST(2),LIST(1),CONST(s("DEFUN","%")),LVAR(1,1),CONST(s("ARGS","SS-FFI")),CONST(s("%JS-APPLY","%")),LVAR(0,1),NIL(),CONST(s("AS-VECTOR","%")),CONST(s("ARGS","SS-FFI")),LIST(2),LIST(4),LIST(4),LIST(3),RET()],s("DEFUN-JS","SS-FFI")),VAR(),CONST(s("DEFUN-JS","SS-FFI")),LVAR(0,0),PRIM(s("%MACRO!","%"),2),RET()]),EXEC(),POP()
